<!DOCTYPE html>

<html>
<head>
	<title>Poster Project</title>
	<link rel="stylesheet" type="text/css" href="index.css">
	<link href="https://fonts.googleapis.com/css?family=Josefin+Sans|Playfair+Display" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="imagesloaded.pkgd.min.js"></script>
    <script src="masonry.pkgd.min.js"></script>
    <script src="js.js"></script>

</head>
<script>
    $(document).ready(function(){
        $.ajax({
            type: 'GET',
            crossDomain: true,
            url: "http://localhost:3000/getPoster",
            success: function(result){
                $("#container").html("");
                for(var i = 0; i < result.length;i++){
                    var obj = result[i].img.data;
                    var img = "data:image/jpeg;base64,"+obj.slice(0, -1);
                    $("#container").append("<img class='picture'src='"+img+"'/>");
                }
            }});
    });
    function getPoster(cat){
        console.log("CATEGORY="+ cat)
        $.ajax({
            type: 'GET',
            crossDomain: true,
            url: "http://localhost:3000/getPoster?category="+cat,
            success: function(result){
                $("#container").empty();
                $("#container").html("");
                for(var i = 0; i < result.length;i++){
                    var obj = result[i].img.data;
                    var img = "data:image/jpeg;base64,"+obj.slice(0, -1);
                    $("#container").append("<img class='picture'src='"+img+"'/>");
                }
            }
        });
    }
</script>
<body>
	<nav class="navbar">
		<div class = "navlist">	
            <a class = "navitem" href= "index.html" style="flex-grow: 1">HomePage</a>
			<a class = "navitem" href= "home.html" style="flex-grow: 1">Upload Poster</a>
			<img id = 'logo' src="logo.png" alt="poster" style="width:200px;height:200px;">
			<a class = "navitem" href= "createAccount.html" style="flex-grow: 1">Create Account</a>
			<a class = "navitem" href= "viewAccount.html" style="flex-grow: 1">View Account</a>
		</div>
	</nav>
	<main class = "main-page">
		<div class = "left-sidebar">
			<h1>Filter by category</h1>					
				<select id = 'select' onchange="getPoster(this.options[this.selectedIndex].value)">
    				<option value="music">Music</option>
                    <option value="performingarts">Performing Arts</option>
                    <option value="speaker">Speaker</option>
                    <option value="charity">Charity</option>
                    <option value="work">Work opportunities</option>
				</select>
				
				
			
		</div>


        <div id="container" class= "container main-body">
               <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/450x100">
                 <img class = "picture" src="http://via.placeholder.com/150x300">
                 <img class = "picture" src="http://via.placeholder.com/450x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/350x600">
                 <img class = "picture" src="http://via.placeholder.com/110x50">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/450x100">
                 <img class = "picture" src="http://via.placeholder.com/50x50">
                 <img class = "picture" src="http://via.placeholder.com/1000x250">
                 <img class = "picture" src="http://via.placeholder.com/200x850">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/50x100">
                 <img class = "picture" src="http://via.placeholder.com/200x50">
                 <img class = "picture" src="http://via.placeholder.com/20x10">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/450x100">
                 <img class = "picture" src="http://via.placeholder.com/150x200">
                 <img class = "picture" src="http://via.placeholder.com/450x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/450x100">
                 <img class = "picture" src="http://via.placeholder.com/150x300">
                 <img class = "picture" src="http://via.placeholder.com/450x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/350x600">
                 <img class = "picture" src="http://via.placeholder.com/110x50">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
               <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/450x100">
                 <img class = "picture" src="http://via.placeholder.com/150x300">
                 <img class = "picture" src="http://via.placeholder.com/450x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/350x600">
                 <img class = "picture" src="http://via.placeholder.com/110x50">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x350">
                 <img class = "picture" src="http://via.placeholder.com/350x150">
                 <img class = "picture" src="http://via.placeholder.com/450x100">
                 <img class = "picture" src="http://via.placeholder.com/50x50">
                 <img class = "picture" src="http://via.placeholder.com/1000x250">
              
        </div>

                        
	</main>
	
</body>

</html>
